<table class="table">
  <tr><%= image_tag user.get_profile_image(80,80) %></tr>
  <tr>
    <th class="p-2">name</th>
    <td><%= user.name %></td>
  </tr>
  <tr>
    <th class="p-2 ">introduction</th>
    <td><%= user.introduction %></td>
    </tr>
</table>
      
<%= link_to edit_user_path(current_user) do %>
  <button type="button" class="btn btn-outline-secondary btn-block mt-4">
    <i class="fa-solid fa-user-gear"></i>
  </button>
<% end %>

<div class="col-md-8 offset-md-1">
      <h2>Book detail</h2>
      <table class="table">
        <tbody>
          <% @books.each do |book| %>
          <tr>
            <td><%= image_tag @user.get_profile_image(80,80) %></td>
            <td>
            <%= link_to edit_book_path(book.id) do %>
              <%= book.title %>
            <% end %>
            </td>
            <td><%= book.body %></td>
          <% end %>
          <% if @book.user == current_user %>
            <td><%= link_to "Edit", edit_book_path(@book), class: "btn btn-success" %></td>
            <td><%= link_to "Destroy", book_path(@book), method: :delete, "data-confirm" => "本当に消しますか？", class: "btn btn-danger" %></td>
          <% end %>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="container p-3">
  <div class="row">
    <div class="col-md-7">
      <h1>Editing Book</h1>
      <%= render 'books/error', book: @book %>
      <%= form_with model: @book, url: book_path(@book.id), method: :patch do |f| %>
        <h6>Title</h6>
        <%= f.text_field :title %>
        <h6 class="pt-3">Body</h6>
        <%= f.text_area :body %>
        <div class="mt-3">
        <input class="btn btn-success" type="submit" value="Update Book">
        </div>
      
        <div class="mt-3">
          <%= link_to "Show", book_path(@book) %> |
          <%= link_to "Back", books_path %>
        </div>
      <% end %>
    </div>
  </div>
</div>